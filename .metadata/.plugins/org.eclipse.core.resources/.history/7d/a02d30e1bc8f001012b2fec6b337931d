package com.ng;

import com.ng.sbeans.Book;
import com.ng.sbeans.PayrollService;

import java.util.Scanner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ConfigurableApplicationContext;

@SpringBootApplication
public class LibraryLateFeeCalculatorApplication {

	public static void main(String[] args) {
		try (ConfigurableApplicationContext ctx = SpringApplication.run(LibraryLateFeeCalculatorApplication.class,
				args); Scanner sc = new Scanner(System.in);) {

			System.out.println("Enter Book Title:");
			String title = sc.nextLine();
			System.out.println("Enter Days Late:");
			int daysLate = Integer.parseInt(sc.next());
			System.out.println("Enter Fine per Day:");
			double fine = sc.nextDouble();
			Book book = new Book(title,daysLate,fine);
			PayrollService service = ctx.getBean(PayrollService.class);
			System.out.println(book);
			System.out.println("Total fine:"+service.calculateFine(daysLate, fine));
			
		} catch (Exception e) {

			e.printStackTrace();
		}
	}

}
